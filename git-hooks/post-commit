#!/bin/sh
# Copyright 2015 Brent Longborough
# Part of gitinfo2 package Version 2
# Release 2.0.7 2015-11-22
# Please read gitinfo2.pdf for licencing and other details
# -----------------------------------------------------
# Post-{commit,checkout,merge} hook for the gitinfo2 package
#
# Get the first tag found in the history from the current HEAD
FIRSTTAG=$(git describe --tags --always --dirty='-*' 2>/dev/null)
# Get the first tag in history that looks like a Release
RELTAG=$(git describe --tags --long --always --dirty='-*' --match '[0-9]*.*' 2>/dev/null)
# Hoover up the metadata

git --no-pager log -1 --date=short --decorate=short \
    --pretty=format:"
#  This is an autogenerated file from a git hook after commit
#
#    Template Created on: 24.02.2023
#        Author: Sebastian Melzer

class Version:
    def __init__(self):
        self.string_firsttag = \"$FIRSTTAG\"
        self.string_reltag = \"$RELTAG\"

    def get_firsttag(self):
        return self.string_firsttag
        
    def get_reltag(self):
        return self.string_reltag

" 	HEAD > version.py
